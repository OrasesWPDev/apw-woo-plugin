/* ----------------------------------------
   APW WOOCOMMERCE PLUGIN - GLOBAL WOOCOMMERCE STYLES
   Base styles primarily for Shop (Top Level), Category (Middle Level),
   and Single Product (Last Level) templates. Specific overrides may apply.
   ---------------------------------------- */
/* ----------------------------------------
   GLOBAL CSS VARIABLES (CUSTOM PROPERTIES)
      Used across Shop, Category, and Product templates unless overridden.
   ---------------------------------------- */
:root {
    /* --- Colors --- */
    --apw-woo-card-header-bg: #003E57;
    --apw-woo-card-header-text: #ffffff;
    --apw-woo-text-color: #0D252C;
    /* --- UPDATED Button Gradient Colors --- */
    --apw-woo-button-gradient-start: #244B5A; /* Changed from #0D252C */
    --apw-woo-button-gradient-end: #178093; /* Changed from #00AADE */
    /* --- End Update --- */
    --apw-woo-card-shadow-color: rgba(36, 75, 90, 0.06); /* #244B5A10 */

    /* --- Typography --- */
    /* Reusing from faq-styles.css */
    --apw-font-family: 'Montserrat', sans-serif;
    --apw-font-bold: 700;
    --apw-font-medium: 500;
    --apw-woo-card-title-size: 2.375rem; /* 38px / 16px */
    --apw-woo-card-button-desc-size: 1.3125rem; /* 21px / 16px */

    /* --- Dimensions & Layout --- */
    /* Image dimensions handled by aspect-ratio in rules */
    --apw-woo-card-shadow-x: 5px;
    --apw-woo-card-shadow-y: 25px;
    --apw-woo-card-shadow-blur: 0px;

    /* --- Gradients --- */
    --apw-woo-button-gradient-angle: 204deg; /* Angle remains 204deg */
    /* This variable now uses the updated start/end colors automatically */
    --apw-woo-button-background: linear-gradient(var(--apw-woo-button-gradient-angle), var(--apw-woo-button-gradient-start), var(--apw-woo-button-gradient-end));

    /* --- Spacing --- */
    --apw-woo-spacing-small: 10px;
    --apw-woo-spacing-medium: 15px;
    --apw-woo-spacing-large: 30px;
}

/* ----------------------------------------
   SHOP-CATEGORIES PAGE
   ---------------------------------------- */


/* ----------------------------------------
   1. SHOP/CATEGORY LEVEL - GRID LAYOUT (Bottom Radius Added)
   ---------------------------------------- */

/* Grid container (Unchanged from previous version) */
.apw-woo-categories-grid,
.apw-woo-products-grid {
    display: flex;
    flex-wrap: wrap;
    box-sizing: border-box;
    row-gap: calc(3 * var(--apw-woo-spacing-large));
    column-gap: calc(var(--apw-woo-spacing-large) + 10px);
}

/* Category/Product item (card) */
.apw-woo-category-item,
.apw-woo-product-item {
    flex-basis: calc(50% - ((var(--apw-woo-spacing-large) + 10px) / 2));
    flex-grow: 0;
    flex-shrink: 0;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    background-color: #fff; /* Background needed for content */

    /* --- Corrected Border Radius --- */
    /* Apply 16px radius to all corners of the item container */
    /* The header inside will still respect its own 16px 16px 0 0 radius */
    border-radius: 16px; /* CHANGED: Applied 16px radius to all corners */

    /* --- Corrected Overflow --- */
    /* Changed back to hidden to clip internal content to the item's radius */
    overflow: hidden; /* CHANGED: Back to hidden */

    position: relative; /* Still useful for positioning context if needed */
    /* Drop shadow remains unchanged, will follow the new border-radius */
    box-shadow: var(--apw-woo-card-shadow-x) var(--apw-woo-card-shadow-y) var(--apw-woo-card-shadow-blur) var(--apw-woo-card-shadow-color);
}

/* --- Flatsome Override (Unchanged) --- */
.apw-woo-category-item > .row > .col,
.apw-woo-product-item > .row > .col {
    padding-bottom: 0 !important;
    margin-bottom: 0 !important;
    padding-top: 0 !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    margin-top: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    width: 100%;
    max-width: 100%;
}

/* --- Inner Row Styles (Unchanged) --- */
.apw-woo-category-item .row,
.apw-woo-product-item .row {
    width: 100%;
    margin-left: 0;
    margin-right: 0;
}


/* ----------------------------------------
   2. SHARED GRID LAYOUT & CARD BASE (Shop & Category)
      (Reflects removal of internal .row/.col classes)
   ---------------------------------------- */

/* Grid container (Unchanged) */
.apw-woo-categories-grid,
.apw-woo-products-grid {
    display: flex;
    flex-wrap: wrap;
    box-sizing: border-box;
    /* Vertical space between rows of cards */
    row-gap: calc(3 * var(--apw-woo-spacing-large));
    /* Horizontal space between columns */
    column-gap: calc(var(--apw-woo-spacing-large) + 10px);
}

/* Category item (Shop) & Product item (Category) Card Styling (Unchanged) */
.apw-woo-category-item,
.apw-woo-product-item {
    /* Width calculated for 2 columns with the specified gap */
    flex-basis: calc(50% - ((var(--apw-woo-spacing-large) + 10px) / 2));
    flex-grow: 0;
    flex-shrink: 0;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    background-color: #fff;
    border-radius: 16px; /* Overall card radius */
    overflow: hidden; /* Clip content */
    position: relative;
    box-shadow: var(--apw-woo-card-shadow-x) var(--apw-woo-card-shadow-y) var(--apw-woo-card-shadow-blur) var(--apw-woo-card-shadow-color);
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

/* Hover effect for product items (Unchanged) */
.apw-woo-product-item:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 20px rgba(36, 75, 90, 0.1);
}


/* --- Styles for NEW Custom Internal Card Structure --- */
/* Replaces need for Flatsome overrides */

/* Custom row within card */
.apw-card-row {
    width: 100%;
    /* Add display: flex; if row content needs flex alignment */
    /* display: flex; */
}

/* Custom column within card */
.apw-card-column {
    width: 100%;
    box-sizing: border-box;
    /* Add any default padding/margin needed for internal columns */
    /* padding: 0; */
    /* margin: 0; */
}

/* Specifically ensure image column has no line-height issues */
.apw-card-column.apw-woo-category-image-col,
.apw-card-column.apw-woo-product-image-col {
    line-height: 0;
}

/* --- End Custom Internal Card Structure Styles --- */

/* --- Flatsome overrides targeting .col inside items are REMOVED --- */

/* ----------------------------------------
   3. SHOP/CATEGORY LEVEL - CARD IMAGE STYLING
   ---------------------------------------- */

.apw-woo-category-image-wrapper,
.apw-woo-product-image-wrapper {
    width: 100%;
    aspect-ratio: 709 / 373;
    overflow: hidden;
    background-color: #f0f0f0;
}

.apw-woo-category-image-link,
.apw-woo-product-image-link {
    display: block;
    height: 100%;
}

.apw-woo-category-image,
.apw-woo-product-image {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
}

/* ----------------------------------------
   4. SHOP/CATEGORY LEVEL - CARD DESCRIPTION STYLING (Margin Added)
   ---------------------------------------- */
.apw-woo-category-description {
    font-family: var(--apw-font-family);
    font-weight: var(--apw-font-medium);
    font-size: var(--apw-woo-card-button-desc-size);
    color: var(--apw-woo-text-color);
    line-height: 1.6;
    padding: var(--apw-woo-spacing-medium) var(--apw-woo-spacing-large) var(--apw-woo-spacing-large) var(--apw-woo-spacing-large);
    margin-left: 10px; /* Added left margin */
}

.apw-woo-category-description p {
    margin-bottom: 1em;
}

.apw-woo-category-description p:last-child {
    margin-bottom: 0;
}